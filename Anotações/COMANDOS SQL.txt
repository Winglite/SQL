-- CRIAR UM BANCO DE DADOS --
CREATE DATABASE PROJETO;


--
--
-- CONECTAR A UM BANCO DE DADOS --
USE PROJETO;


--
--
-- MOSTRAR AS TABELAS DO BANCO --
SHOW TABLES;  ---> SO TEM NO MYSQL


--
--
-- CRIAR UMA TABELA --
CREATE TABLE CLIENTE (
	NOME VARCHAR(30),
	SEXO CHAR(1),
	EMAIL VARCHAR(30),
	CPF INT(11),
	TELEFONE VARCHAR(30),
	ENDERECO VARCHAR(100)
);


--
--
-- VENDO A ESTRUTURA DE UMA TABELA --
DESC CLIENTE;


--
--
-- INSERIR DADOS NA TABELA --

OMITINDO AS COLUNAS
INSERT INTO CLIENTE VALUES('JOAO','M','JOAO@GMAIL.COM',988638273,'22923110','MAIA LACERDA - ESTACIO - RIO DE JANEIRO - RJ');


COLOCANDO AS COLUNAS
INSERT INTO CLIENTE(NOME,SEXO,ENDEREÇO,TELEFONE,CPF) VALUES('LILIAN','F','SENADOR SOARES - TIJUCA - RIO DE JANEIRO - RJ','947785696',887774856);


INSERT COMPACTO - SOMENTE MYSQL
INSERT INTO CLIENTE VALUES('ANA','F','ANA@GLOBO.COM',85548962,'548556985','PRES ANTONIO CARLOS - CENTRO - SAO PAULO - SP'),
                          ('CARLA','F','CARLA@TERATI.COM.BR',7745828,'66587458','SAMUEL SILVA - CENTRO - BELO HORIZONTE - MG');


--
--
-- SELECAO, PROJECAO, JUNCAO

SELECT NOW() as DATA_HORA, 'WINGLITE' as ALUNO;

NOW() = PROJECAO ---> MOSTRA A DATA E A HORA DA QUERY
as = ALIAS

ALIAS DE COLUNAS --> DEFINE O NOME PARA AS COLUNAS
SELECT NOME AS CLIENTE, SEXO, EMAIL FROM CLIENTE;

FROM = DE QUAL TABELA VEM A CONSULTA

USE PARA FINS ACADEMICOS
SELECT * FROM CLIENTE;  ---> O * TRAS TODAS AS COLUNAS DA TABELA, USA MAIS TEMPO DE PROCESSAMENTO


--
--
-- FILTRANDO OS DADOS

SELECT NOME, SEXO FROM CLIENTE
WHERE SEXO = 'M';

WHERE = FILTRA A CONDIÇÃO


-- OPERADORES LOGICOS

--
--
-- UTILIZANDO O LIKE
LIKE = QUANDO QUERO CONSULTAR POR APROXIMACAO DE RESULTADOS (% --> QUALQUER COISA)
_ = CAMPO NA CONSULTA

SELECT NOME, SEXO FROM CLIENTE
WHERE ENDEREÇO LIKE '%RJ'; ---> QUALQUER COISA + RJ (NO FIM)

SELECT NOME, SEXO, ENDEREÇO FROM CLIENTE
WHERE ENDEREÇO LIKE 'OSCAR CURY%'; ---> OSCAR CURY + QUALQUER COISA (NO INICIO)

SELECT NOME, SEXO, ENDEREÇO FROM CLIENTE
WHERE ENDEREÇO LIKE '%CENTRO%'; ---> QUALQUER COISA + CENTRO + QUALQUER COISA (NO MEIO)


--
--
-- TABELA VERDADE
OR --> BASTA 1 CONDIÇÃO SER VERDADEIRA
       V + V = V
       V + F = V
       F + V = V
       F + F = F

SELECT NOME, SEXO, ENDEREÇO FROM CLIENTE
WHERE 
SEXO = 'M' OR ENDEREÇO LIKE '%RJ';


AND --> TODAS AS CONDIÇÕES PRECISAM SER VERDADEIRAS (COLOCAR ENTRE PARENTESES OS STATAMENTS)
       V + V = V
       V + F = F
       F + V = F
       F + F = F

SELECT AUTOR, SEXO, UF
FROM LIVROS
WHERE 
SEXO = 'M' AND (UF = 'SP' OR UF = 'RJ');

--
--
-- COUNT(*), GROUP BY, PERFORMANCE COM OPERADORES LOGICOS

-- CONTA O NUMERO DE REGISTROS DE UMA TABELA --> COUNT(*)
SELECT COUNT(*) AS "Quantidade de Registros da Tab. Cliente"
 FROM CLIENTE;

-- AGRUPA OS DADOS COM BASE EM UMA COLUNA --> GROUP BY
SELECT SEXO, COUNT(*) 
FROM CLIENTE
GROUP BY SEXO;

--
--
-- FILTRA VALORES NULOS --> IS NULL
SELECT NOME, SEXO, ENDEREÇO
FROM CLIENTE
WHERE EMAIL IS NULL;

-- FILTRA VALORES NÃO NULOS --> IS NOT NULL
SELECT NOME, SEXO, ENDEREÇO
FROM CLIENTE
WHERE EMAIL IS NOT NULL;


--
--
-- ATUALIZAR DADOS DA TABELA --> UPDATE / SET
UPDATE CLIENTE
SET EMAIL = 'LILIAN@HOTMAIL.COM'
WHERE NOME = 'LILIAN';


--
--
-- DELETAR DADOS DA TABELA --> DELETE
ANTES DE EXECUTAR FAÇA UM SELECT PARA CONFERIR SE ESTA CERTO O QUE QUER FAZER ---> SELECT * FROM

SELECT * FROM CLIENTE
WHERE NOME = 'ANA';

DELETE FROM CLIENTE
WHERE NOME = 'ANA';

--
SELECT * FROM CLIENTE -- CONFERIR SE O QUE TROUXE É O QUE QUER QUE SEJA DELETADO.
WHERE NOME = 'CARLA'
AND EMAIL = 'LILIAN@HOTMAIL.COM';

DELETE FROM CLIENTE --> AND TRAZ O QUE SATISFACA TODAS AS CONDICOES.
WHERE NOME = 'CARLA'
AND EMAIL = 'LILIAN@HOTMAIL.COM';


--
--
--SELECAO, PROJECAO E JUNCAO

--PROJECAO ---> E TUDO QUE VOCE QUER VER NA TELA.

SELECT NOME, SEXO, EMAIL --> PROJEÇÃO


--SELECAO ---> E UM SUBCONJUNTO DO CONJUNTO TOTAL DE REGISTROS DE UMA TABELA 
(CLAUSULA DE SELECAO -> WHERE)

SELECT NOME, SEXO, EMAIL --> PROJEÇÃO
FROM CLIENTE --> ORIGEM
WHERE SEXO = 'F' --> SELECAO


--JUNCAO --> E A JUNCAO DOS DADOS DE DUAS OU MAIS TABELAS

INNER JOIN (JUNCAO DE DENTRO - TUDO QUE E COMUM ENTRE AS TABELAS)

-- 2 TABELAS

SELECT NOME, SEXO, BAIRRO, CIDADE --> PROJECAO 
FROM CLIENTE --> ORIGEM
	INNER JOIN ENDERECO --> JUNCAO
	ON IDCLIENTE = ID_CLIENTE
WHERE SEXO = 'F'; --> SELECAO


SELECT NOME, SEXO, EMAIL, TIPO, NUMERO
FROM CLIENTE 
INNER JOIN TELEFONE
ON IDCLIENTE = ID_CLIENTE;


--3 OU MAIS TABELAS (UTILIZAR OS "PONTEIROS" REFERENCIANDO DE ONDE VEM AS INFORMACOES)

SELECT C.NOME, C.SEXO, E.BAIRRO, E.CIDADE, T.TIPO, T.NUMERO
FROM CLIENTE C
INNER JOIN ENDERECO E
ON C.IDCLIENTE = E.ID_CLIENTE
INNER JOIN TELEFONE T
ON C.IDCLIENTE = T.ID_CLIENTE;












